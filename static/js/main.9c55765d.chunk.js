(this["webpackJsonpproject-five"]=this["webpackJsonpproject-five"]||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/close.d0301819.svg"},25:function(e,t,a){e.exports=a(50)},46:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(22),l=a.n(r),i=a(2),c=a(3),s=a(5),u=a(4),m=a(23),d=a.n(m);a(46);var k=function(){return n.a.createElement("header",null,n.a.createElement("div",{className:"headerContainer wrapper"},n.a.createElement("h1",null,"Bestsellers to Read")))},p=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("section",{className:"wrapper"},n.a.createElement("h2",null,"Looking for your next book to read? Choose a category below and browse the bestselling books per the ",n.a.createElement("a",{href:"https://www.nytimes.com/books/best-sellers/","aria-label":"link to New York Times bestsellers list",rel:"noopener noreferrer",target:"_blank"},"New York Times")," click on a book to read more and create a list of the ones you want to read. "))}}]),a}(o.Component);var b=function(e){return n.a.createElement("ul",{className:"bookSelect wrapper"},[{name:"Non Fiction",id:"combined-print-and-e-book-nonfiction","aria-label":"click to generate non fiction books"},{name:"Fiction",id:"combined-print-and-e-book-fiction","aria-label":"click to generate fiction books"},{name:"Travel",id:"travel","aria-label":"click to generate travel books"},{name:"Sports",id:"sports","aria-label":"click to generate sports books"},{name:"Young Adult",id:"young-adult-hardcover","aria-label":"click to generate young adult books"},{name:"Comedy",id:"humor","aria-label":"click to generate comedy books"},{name:"Business",id:"business-books","aria-label":"click to generate business books"},{name:"Crime & Law",id:"crime-and-punishment","aria-label":"click to generate crime & law books"}].map((function(t){return n.a.createElement("li",{key:t.id},n.a.createElement("button",{id:t.id,"aria-label":t["aria-label"],onClick:e.handleClick},t.name))})))};var h=function(e){return n.a.createElement("li",null,n.a.createElement("button",{tabIndex:"0",onClick:function(){return e.openModalHandler(e.id)}},n.a.createElement("img",{id:e.id,src:e.bookImg,alt:"".concat(e.bookTitle," by ").concat(e.bookAuthor)})))},f=a(24),v=a.n(f),y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(i.a)(this,a),(o=t.call(this,e)).onKeyUp=function(e){27===e.which?o.props.closeModalHandler(e):13===e.which&&o.focusButton()},o.button=null,o.setRef=function(e){o.button=e},o.focusButton=function(){o.button&&o.button.focus()},o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp)}},{key:"render",value:function(){var e=this,t=this.props.selectedBook;return n.a.createElement("div",null,!0===this.props.isShowing?n.a.createElement("div",{className:"modal"},n.a.createElement("div",{className:"modalContent wrapper"},n.a.createElement("span",{className:"close","aria-label":"close",onClick:this.props.closeModalHandler},n.a.createElement("img",{src:v.a,alt:""})),n.a.createElement("h4",null,n.a.createElement("span",null,t.title)," by ",t.author),n.a.createElement("p",null,t.description),n.a.createElement("img",{value:t.book_image,className:"book",src:t.book_image,alt:"".concat(t.title," by ").concat(t.author)}),n.a.createElement("button",{ref:this.setRef,onKeyUp:this.focusButton,onClick:function(t){return e.props.handleSelect(t)}},n.a.createElement("i",{tabIndex:"1",className:"fas fa-heart"}),"Add to list"))):null)}}]),a}(o.Component);var E=function(){return n.a.createElement("footer",null,n.a.createElement("p",null,"\xa9 Emma Walden 2020"))},g=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).onKeyUp=function(t){13===t.which&&e.props.bookSrc===t.srcElement.lastChild.src&&e.props.removeBook(e.props.id)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp)}},{key:"render",value:function(){var e=this;return n.a.createElement("li",{tabIndex:"0"},n.a.createElement("i",{"aria-label":"close",onClick:function(){return e.props.removeBook(e.props.id)},className:"fas fa-times"}),n.a.createElement("img",{src:this.props.bookSrc,alt:this.props.bookalt}))}}]),a}(o.Component),w=a(8),j=a.n(w);a(48);j.a.initializeApp({apiKey:"AIzaSyDRFzWvnZt8Xyet3LYIdEtkJ-MI2mXHTsw",authDomain:"project-five-7d718.firebaseapp.com",databaseURL:"https://project-five-7d718.firebaseio.com",projectId:"project-five-7d718",storageBucket:"project-five-7d718.appspot.com",messagingSenderId:"167738762781",appId:"1:167738762781:web:e43bcfd388626767ed08f4"});var B=j.a,S=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getBooks=function(){var t="https://api.nytimes.com/svc/books/v3/lists/current/".concat(e.state.urlCategory,".json?api-key=E1ntAP6SqFYuIsPBrhGwXxHj6xBbjTYV");d()({method:"GET",url:t,"api-key":"E1ntAP6SqFYuIsPBrhGwXxHj6xBbjTYV",format:"json"}).then((function(t){e.setState({bookArray:t.data.results.books})}))},e.handleClick=function(t){e.setState({urlCategory:t.target.id},(function(){return e.getBooks()}))},e.openModalHandler=function(t){var a=e.state.bookArray.filter((function(e){return e.rank===parseInt(t)+1}));e.setState({isShowing:!0,selectedBook:a[0]})},e.closeModalHandler=function(){e.setState({isShowing:!1})},e.handleSelect=function(t){t.preventDefault(),B.database().ref().push(e.state.selectedBook),e.setState({isShowing:!1})},e.state={bookArray:[],urlCategory:"combined-print-and-e-book-fiction",isShowing:!1,selectedBook:{},savedBooks:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getBooks(),B.database().ref().on("value",(function(t){var a=[],o=t.val();for(var n in o)a.push({key:n,object:o[n]});e.setState({savedBooks:a})}))}},{key:"removeBook",value:function(e){B.database().ref().child(e).remove()}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(k,null),n.a.createElement("main",null,n.a.createElement(p,null),n.a.createElement(b,{handleClick:this.handleClick}),n.a.createElement("ul",{className:"bookGallery wrapper"},this.state.bookArray.map((function(t,a){return n.a.createElement(h,{key:a,id:a,bookImg:t.book_image,bookTitle:t.title,bookAuthor:t.author,openModalHandler:e.openModalHandler})}))),n.a.createElement(y,{selectedBook:this.state.selectedBook,closeModalHandler:this.closeModalHandler,isShowing:this.state.isShowing,handleSelect:this.handleSelect}),n.a.createElement("section",{className:"bookList"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("h5",null,"Books To Read"),0===this.state.savedBooks.length?n.a.createElement("h6",null,"There are no books in your list yet, click on a book to add it to your list!"):null,n.a.createElement("ul",{className:"savedBooks"},this.state.savedBooks.map((function(t){return n.a.createElement(g,{key:t.key,id:t.key,bookSrc:t.object.book_image,bookalt:"".concat(t.object.title," by ").concat(t.object.author),removeBook:e.removeBook})})))))),n.a.createElement(E,null))}}]),a}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.9c55765d.chunk.js.map